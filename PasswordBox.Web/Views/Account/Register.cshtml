@model PasswordBox.Web.Models.ViewModels.RegisterViewModel
@{
    ViewData["Title"] = "Kayıt Ol";
}

<style>
    .register-container {
        min-height: 80vh;
        display: flex;
        align-items: center;
        justify-content: center;
    }

    .register-card {
        background-color: #ffffff;
        padding: 2rem;
        border-radius: 1rem;
        box-shadow: 0 0 30px rgba(0, 0, 0, 0.1);
        width: 100%;
        max-width: 500px;
    }

    .form-control {
        border-radius: 0.5rem;
        padding-right: 2.75rem; /* göz ikonu alanı */
    }

    .btn-custom {
        background: linear-gradient(135deg, #0052D4, #4364F7);
        color: white;
        border: none;
        border-radius: 0.5rem;
    }

        .btn-custom:hover {
            background: linear-gradient(135deg, #4364F7, #6FB1FC);
        }

    .password-wrapper {
        position: relative;
    }

    .toggle-password {
        position: absolute;
        top: 50%;
        right: 0.75rem;
        transform: translateY(-50%);
        cursor: pointer;
        user-select: none;
        width: 24px;
        height: 24px;
        fill: #666;
        transition: fill 0.3s ease;
    }

        .toggle-password:hover {
            fill: #0052D4;
        }
</style>

<div class="register-container">
    <div class="register-card">
        <h2 class="text-center mb-4">Kayıt Ol</h2>

        <form method="post" novalidate>
            <div class="mb-3">
                <label asp-for="Username" class="form-label">Kullanıcı Adı</label>
                <input asp-for="Username" class="form-control" />
                <span asp-validation-for="Username" class="text-danger small"></span>
            </div>

            <div class="mb-3 password-wrapper">
                <label asp-for="Password" class="form-label">Şifre</label>
                <input asp-for="Password" type="password" class="form-control" id="passwordInput" />
                <svg xmlns="http://www.w3.org/2000/svg" class="toggle-password" id="togglePassword" viewBox="0 0 24 24" onclick="togglePassword()" aria-label="Şifre göster/gizle" role="button" tabindex="0">
                    <!-- Göz kapalı (başlangıç gizli) -->
                    <path id="eyeClosed" d="M12 5c-7 0-10 7-10 7s3 7 10 7 10-7 10-7-3-7-10-7zm0 12a5 5 0 1 1 0-10 5 5 0 0 1 0 10z" style="display:none" />
                    <!-- Göz açık -->
                    <path id="eyeOpen" d="M12 4.5c-7 0-11 7.5-11 7.5S5 19.5 12 19.5 23 12 23 12 19 4.5 12 4.5zm0 12a5 5 0 1 1 0-10 5 5 0 0 1 0 10z" />
                </svg>
                <span asp-validation-for="Password" class="text-danger small"></span>
            </div>

            <div class="mb-3">
                <label asp-for="Email" class="form-label">Email</label>
                <input asp-for="Email" type="email" class="form-control" />
                <span asp-validation-for="Email" class="text-danger small"></span>
            </div>

            <div class="d-grid">
                <button type="submit" class="btn btn-custom">Kayıt Ol</button>
            </div>
        </form>
    </div>
</div>

@section Scripts {
    <partial name="_ValidationScriptsPartial" />

    <script>
        function togglePassword() {
            const passwordInput = document.getElementById('passwordInput');
            const eyeOpen = document.getElementById('eyeOpen');
            const eyeClosed = document.getElementById('eyeClosed');
            if (passwordInput.type === 'password') {
                passwordInput.type = 'text';
                eyeOpen.style.display = 'none';
                eyeClosed.style.display = 'inline';
            } else {
                passwordInput.type = 'password';
                eyeOpen.style.display = 'inline';
                eyeClosed.style.display = 'none';
            }
        }
    </script>
}
